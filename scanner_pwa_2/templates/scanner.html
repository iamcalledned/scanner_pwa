<!-- Updated Scanner Landing Page with improved login styling and persistent login button -->
<!-- Based on the original scanner.html from scanner_pwa/templates -->
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FRCK642NXJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FRCK642NXJ');
</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scanner Call Archive</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="manifest" href="/scanner/manifest.json">
</head>
<body class="bg-gray-900 text-white font-sans">



  <div class="max-w-4xl mx-auto px-4 py-16">
    <!-- Page header without embedded login button -->
    <div class="flex items-center justify-center mb-6">
      <h1 class="text-4xl font-bold text-center">ðŸ“» Hopedale Scanner Archive</h1>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <a href="/scanner_pd" class="block bg-gray-800 hover:bg-gray-700 transition p-6 rounded-xl shadow-md text-center">
        <div class="text-6xl mb-4">ðŸš“</div>
        <h2 class="text-2xl font-semibold mb-2">Police Calls</h2>
        <p class="text-gray-400 text-sm">Browse archived scanner calls from the Police channel.</p>
      </a>

      <a href="/scanner_fire" class="block bg-gray-800 hover:bg-gray-700 transition p-6 rounded-xl shadow-md text-center">
        <div class="text-6xl mb-4">ðŸš’</div>
        <h2 class="text-2xl font-semibold mb-2">Fire Calls</h2>
        <p class="text-gray-400 text-sm">Browse archived scanner calls from the Fire/EMS channel.</p>
      </a>
    </div>

    <div class="mt-12 text-center">
      <a href="/scanner/archive" class="text-blue-400 hover:underline text-sm">Go to full archive &rarr;</a>
    </div>
  </div>

  <div id="scanner-status" class="mt-12 p-6 bg-gray-800 rounded-xl shadow text-center">
  <h2 class="text-xl font-semibold mb-2">ðŸ“¡ Live Status</h2>
  <div class="text-gray-300 text-sm">
    <div>FD: <span id="fd-freq">--</span> Hz</div>
    <div>PD: <span id="pd-freq">--</span> Hz</div>
    <div>Signal: <span id="sig-strength">--</span></div>
  </div>
</div>


    <!-- Install button (hidden until beforeinstallprompt fires) -->
<!-- SW update toast (bottom-left, glass/floaty) -->
<div class="fixed bottom-6 left-6 z-50 pointer-events-none">
  <div id="sw-toast"
       class="hidden pointer-events-auto px-4 py-3 rounded-2xl
              bg-gray-900/60 backdrop-blur-md
              ring-1 ring-white/10 shadow-xl shadow-black/30
              text-white text-sm transition-all duration-200
              opacity-0 translate-y-2">
    <div class="flex items-start gap-3">
      <!-- icon -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mt-0.5 text-yellow-300" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10 2a4 4 0 00-4 4v1.586L4.707 10.88A1 1 0 005.414 13h9.172a1 1 0 00.707-1.12L14 7.586V6a4 4 0 00-4-4z"/>
        <path d="M8 15a2 2 0 104 0H8z"/>
      </svg>

      <div class="min-w-[220px]">
        <div class="font-medium">Update available</div>
        <div class="text-white/80 text-xs">A new version is ready. Refresh to get the latest.</div>

        <div class="mt-3 flex items-center gap-2">
          <button id="sw-update"
                  class="px-3 py-1.5 rounded-lg
                         bg-blue-700/80 hover:bg-blue-600
                         backdrop-blur-sm ring-1 ring-white/10
                         shadow-sm transition">
            Update now
          </button>
          <button id="sw-later"
                  class="px-3 py-1.5 rounded-lg
                         bg-gray-700/80 hover:bg-gray-700
                         backdrop-blur-sm ring-1 ring-white/10
                         shadow-sm transition">
            Later
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Notifications menu (glass/floaty like the login) -->
<div class="fixed bottom-6 right-6 z-50 pointer-events-none">
  <div
    id="notif-menu"
    class="pointer-events-auto px-4 py-3 rounded-2xl
           bg-gray-900/60 backdrop-blur-md
           ring-1 ring-white/10 shadow-xl shadow-black/30
           text-white text-sm transition-all duration-200"
  >
    <div class="flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10 2a4 4 0 00-4 4v1.586L4.707 10.88A1 1 0 005.414 13h9.172a1 1 0 00.707-1.12L14 7.586V6a4 4 0 00-4-4z"/>
        <path d="M8 15a2 2 0 104 0H8z"/>
      </svg>
      <div id="notif-status" class="leading-5">
        Notifications: <span id="notif-state" class="font-medium text-white/90">unknown</span>
      </div>
    </div>

    <div class="mt-3 flex items-center gap-2">
      <button
        id="notif-toggle"
        class="px-3 py-1.5 rounded-lg
               bg-blue-700/80 hover:bg-blue-600
               backdrop-blur-sm
               ring-1 ring-white/10
               shadow-sm transition"
      >
        Enable
      </button>
      <button
        id="notif-unsub"
        class="hidden px-3 py-1.5 rounded-lg
               bg-gray-700/80 hover:bg-gray-700
               backdrop-blur-sm
               ring-1 ring-white/10
               shadow-sm transition"
      >
        Disable
      </button>
    </div>

    <div id="notif-msg" class="mt-2 text-xs text-white/70"></div>
  </div>
</div>


  <script src="/static/js/pwa.js"></script>
</body>
</html>